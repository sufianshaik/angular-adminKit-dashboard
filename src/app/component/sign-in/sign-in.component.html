<div class="card">
    <div class="card-header">
        Sign in 
    </div>
    <div class="card-body">
      <form (ngSubmit) = "save()" [formGroup]="customerForm">
        <!-- first name -->
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label"
                 for="firstNameId">First Name</label>
          <div class="col-md-8">
            <input class="form-control"
                   id="firstNameId"
                   type="text"
                   placeholder="First Name (required)"
                   formControlName = "firstName"
                   [ngClass]="{ 'is-invalid' : stringsToDisplay.firstNameMessage}" />
            <span class="invalid-feedback">
              {{ stringsToDisplay.firstNameMessage }}
            </span>
          </div>
        </div>
        <!-- lastname -->
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label"
                 for="lastNameId">Last Name</label>
          <div class="col-md-8">
            <input class="form-control"
                   id="lastNameId"
                   type="text"
                   placeholder="Last Name (required)"
                   formControlName = "lastName"
                   [ngClass]="{'is-invalid' : stringsToDisplay.lastNameMessage }" />
            <span class="invalid-feedback">
              {{ stringsToDisplay.lastNameMessage }}
            </span>
          </div>
        </div>
        <!-- email group -->
        <div formGroupName = "emailGroup">
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label"
                  for="emailId">Email</label>
            <div class="col-md-8">
              <input class="form-control"
                    id="emailId"
                    type="email"
                    formControlName = "email"
                    placeholder="Email (required)"
                    [ngClass]="{'is-invalid': stringsToDisplay.emailMessages}"/>
              <span class="invalid-feedback">
                {{stringsToDisplay.emailMessages}}
              </span>
            </div>
          </div>
  
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label"
                  for="confirmEmailId">Confirm Email</label>
            <div class="col-md-8">
              <input class="form-control"
                    id="confirmEmailId"
                    type="email"
                    formControlName = "confirmEmail"
                    placeholder="Confirm Email (required)"
                    [ngClass]="{'is-invalid': stringsToDisplay.confirmEmailMessages || stringsToDisplay.combineEmailGroupMessages}"/>
              <span class="invalid-feedback">
                {{stringsToDisplay.confirmEmailMessages}}
                <!-- <span *ngIf="customerForm.get('emailGroup')?.errors.match">
                  Email doesn't match
                </span> -->
                <span *ngIf="!stringsToDisplay.confirmEmailMessages && stringsToDisplay.combineEmailGroupMessages">
                  {{stringsToDisplay.combineEmailGroupMessages}}
                </span>
              </span>
            </div>
          </div>
        </div>
        <!-- phone number -->
        <div class = "form-group row mb-2">
            <label class = "col-md-2 col-form-label" for = "phoneId">Phone</label>
          <div class="col-md-8">
            <input class = "form-control" 
              id = "phoneId"
              type = "tel"
              placeholder="Phone"
              formControlName = "phone"
              [ngClass] = "{'is-invalid' : !customerForm.get('phone')?.valid}" />
          <span class="invalid-feedback">
            <span *ngIf = "customerForm.get('phone')?.errors?.['required']">
               please enter your phone number
            </span>
          </span>
          </div>
        </div>
        <!-- notifications -->
        <div class = "form-group row mb-2">
          <label class = "col-md-2 col-form-label pt-0"> Send notifications </label>
          <div class = "col-md-8">
              <div class = "form-check form-check-inline">
                  <label class = "form-check-label">
                    <input class ="form-check-input" 
                       type = "radio"
                       value = "email" 
                       formControlName = "notification"
                       /> Email 
                  </label>
              </div>
              <div class = "form-check form-check-inline">
                <label class = "form-check-label">
                  <input class ="form-check-input" 
                    type = "radio" 
                    value = "text"
                    formControlName = "notification"
                    
                    /> Text 
                </label>
            </div>
          </div>
        </div>
        <!-- rating -->
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label"
                 for="ratingId">Rating</label>
          <div class="col-md-8">
            <input class="form-control"
                   id="ratingId"
                   type="number"
                   formControlName = "rating"
        
                   [ngClass]="{'is-invalid': (customerForm.get('rating')?.touched || customerForm.get('rating')?.dirty) && !customerForm.get('rating')?.valid }" />
            <span class="invalid-feedback">
              <span *ngIf="customerForm.get('rating')?.errors?.['range']">
                Please enter a valid experience range from 1 to 5 
              </span>
            </span>
          </div>
        </div>
  
  
        <div class="form-group row mb-2">
          <div class="offset-md-2 col-md-4">
            <button class="btn btn-primary mr-3"
                    type="submit"
                    style="width:80px"
                    [title]="customerForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
                    [disabled]="!customerForm.valid">
              Save
            </button>
            <button class = "btn btn-success ms-3" type = "button" (click) = "populateTestData()">
                Test Data 
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>